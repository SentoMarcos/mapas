<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Museo Sonoro ¬∑ Producci√≥n musical</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="estilos-mapas.css" />
</head>

<body class="theme-produccion">
  <header class="page-hero">
    <nav class="site-nav" aria-label="Navegaci√≥n principal">
      <a class="brand-mark" href="index.html">Museo Sonoro</a>
      <div class="nav-links">
        <a href="cuerda.html">Cuerda</a>
        <a href="percusion.html">Percusi√≥n</a>
        <a href="viento.html">Viento</a>
        <a href="produccion.html" class="is-active">Producci√≥n</a>
        <a href="direccion.html">Direcci√≥n</a>
      </div>
    </nav>

    <div class="hero-grid">
      <div class="hero-text">
        <p class="hero-label">Atlas sonoro global</p>
        <h1>Producci√≥n musical</h1>
        <p class="hero-copy">Del pergamino medieval al estudio port√°til: repasa los inventos que cambiaron c√≥mo capturamos, manipulamos y distribuimos el sonido.</p>

        <div class="hero-meta">
          <div>
            <span>Procesos</span>
            <strong>9 hitos</strong>
          </div>
          <div>
            <span>Tecnolog√≠as</span>
            <strong>8 capas</strong>
          </div>
          <div>
            <span>Estudios</span>
            <strong>5 polos</strong>
          </div>
        </div>

        <div class="hero-actions">
          <a class="btn-primary" href="#linea-produccion">Recorrer l√≠nea</a>
          <a class="btn-ghost" href="#mapa-produccion">Ver mapa</a>
        </div>
      </div>

      <div class="hero-visual">
        <h3>Capas de producci√≥n</h3>
        <p>Soportes f√≠sicos, cinta magn√©tica, sintetizadores, DAWs e inteligencia artificial conviven en el estudio moderno.</p>

        <div class="hero-timeline-blip">
          <article>
            <span>Anal√≥gico</span>
            <strong>Cinta &amp; v√°lvulas</strong>
            <p>Control de saturaci√≥n y edici√≥n artesanal.</p>
          </article>
          <article>
            <span>Digital</span>
            <strong>DAW</strong>
            <p>Edici√≥n no lineal y mezcla con automatizaci√≥n granular.</p>
          </article>
          <article>
            <span>Cloud</span>
            <strong>Colaboraci√≥n</strong>
            <p>Sesiones remotas, stems y mastering en l√≠nea.</p>
          </article>
        </div>

        <ul class="hero-taglist" aria-label="Tecnolog√≠as destacadas">
          <li>Fon√≥grafo</li>
          <li>Cinta</li>
          <li>Sampler</li>
          <li>DAW</li>
          <li>IA generativa</li>
        </ul>
      </div>
    </div>
  </header>

  <main class="page-content">
    <section class="panel-card timeline-panel" id="linea-produccion">
      <div class="panel-inner">
        <div class="section-heading">
          <span class="section-kicker">Historia viva</span>
          <h2>L√≠nea del tiempo de la producci√≥n musical</h2>
          <p>Innovaciones clave que moldearon el registro, la mezcla y la circulaci√≥n de la m√∫sica.</p>
        </div>

        <div class="timeline" aria-label="L√≠nea del tiempo interactiva">
          <div class="timeline-track">
      <svg class="timeline-curve" viewBox="0 0 1200 400" preserveAspectRatio="none" aria-hidden="true">
        <defs>
          <linearGradient id="timelineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="#f4a261" />
            <stop offset="25%" stop-color="#2a9d8f" />
            <stop offset="50%" stop-color="#457b9d" />
            <stop offset="75%" stop-color="#e76f51" />
            <stop offset="100%" stop-color="#9b5de5" />
          </linearGradient>
        </defs>
        <path d="M0,260 C120,60 240,360 360,160 S600,360 720,200 960,360 1080,160 1200,320 1200,220" stroke="url(#timelineGradient)" />
      </svg>

      <div class="timeline-event side-top" style="--pos:5%;" data-progress="0.05">
        <div class="timeline-node" tabindex="0">
          <span class="fecha-superior">Siglo XI</span>
          <span class="timeline-node-dot" aria-hidden="true"></span>
          <span class="fecha-inferior">Notaci√≥n</span>
        </div>
        <div class="periodo era-medieval">
          <h4>La m√∫sica se fija por escrito</h4>
          <ul>
            <li>Guido d'Arezzo sistematiza la notaci√≥n y el tetragrama.</li>
            <li>Las obras pueden guardarse y replicarse sin el compositor presente.</li>
            <li>Nace la idea de producci√≥n como dise√±o para otros int√©rpretes.</li>
          </ul>
        </div>
      </div>

      <div class="timeline-event side-bottom" style="--pos:18%;" data-progress="0.18">
        <div class="timeline-node" tabindex="0">
          <span class="fecha-superior">1857</span>
          <span class="timeline-node-dot" aria-hidden="true"></span>
          <span class="fecha-inferior">Fonoaut√≥grafo</span>
        </div>
        <div class="periodo era-classical">
          <h4>El sonido se vuelve dibujo</h4>
          <ul>
            <li>√âdouard-L√©on Scott de Martinville patenta el fonoaut√≥grafo.</li>
            <li>Registra ondas sonoras visuales sobre papel ennegrecido.</li>
            <li>Es captura unidireccional: el audio a√∫n no se reproduce.</li>
          </ul>
        </div>
      </div>

      <div class="timeline-event side-top" style="--pos:30%;" data-progress="0.30">
        <div class="timeline-node" tabindex="0">
          <span class="fecha-superior">1877</span>
          <span class="timeline-node-dot" aria-hidden="true"></span>
          <span class="fecha-inferior">Fon√≥grafo</span>
        </div>
        <div class="periodo era-classical">
          <h4>El sonido se puede reproducir</h4>
          <ul>
            <li>Thomas Edison crea el primer dispositivo bidireccional.</li>
            <li>El audio se convierte en un objeto f√≠sico, vendible y coleccionable.</li>
            <li>Se funda la industria fonogr√°fica.</li>
          </ul>
        </div>
      </div>

      <div class="timeline-event side-bottom" style="--pos:45%;" data-progress="0.45">
        <div class="timeline-node" tabindex="0">
          <span class="fecha-superior">1940s</span>
          <span class="timeline-node-dot" aria-hidden="true"></span>
          <span class="fecha-inferior">Cinta</span>
        </div>
        <div class="periodo era-modern">
          <h4>La revoluci√≥n de la cinta magn√©tica</h4>
          <ul>
            <li>Alemania desarrolla el magnetof√≥n; tras la guerra llega a EE. UU.</li>
            <li>Bing Crosby impulsa la grabaci√≥n diferida para radio.</li>
            <li>Editar, cortar y pegar se vuelve posible: aparece el montaje creativo.</li>
          </ul>
        </div>
      </div>

      <div class="timeline-event side-top" style="--pos:58%;" data-progress="0.58">
        <div class="timeline-node" tabindex="0">
          <span class="fecha-superior">1950</span>
          <span class="timeline-node-dot" aria-hidden="true"></span>
          <span class="fecha-inferior">Multipista</span>
        </div>
        <div class="periodo era-modern">
          <h4>Guitarra el√©ctrica y grabaci√≥n por capas</h4>
          <ul>
            <li>Les Paul perfecciona el "sound on sound" y la grabaci√≥n multipista.</li>
            <li>Se superponen voces, guitarras y arreglos sin tocar juntos.</li>
            <li>El productor se vuelve arquitecto del sonido popular.</li>
          </ul>
        </div>
      </div>

      <div class="timeline-event side-bottom" style="--pos:72%;" data-progress="0.72">
        <div class="timeline-node" tabindex="0">
          <span class="fecha-superior">1982</span>
          <span class="timeline-node-dot" aria-hidden="true"></span>
          <span class="fecha-inferior">CD / MIDI</span>
        </div>
        <div class="periodo era-modern">
          <h4>La era digital</h4>
          <ul>
            <li>Compact Disc ofrece audio limpio y resistente al desgaste.</li>
            <li>El protocolo MIDI sincroniza sintetizadores, samplers y cajas de ritmo.</li>
            <li>La producci√≥n se vuelve programable y automatizable.</li>
          </ul>
        </div>
      </div>

      <div class="timeline-event side-top" style="--pos:85%;" data-progress="0.85">
        <div class="timeline-node" tabindex="0">
          <span class="fecha-superior">1990s</span>
          <span class="timeline-node-dot" aria-hidden="true"></span>
          <span class="fecha-inferior">DAW / MP3</span>
        </div>
        <div class="periodo era-contemporary">
          <h4>El estudio cabe en un ordenador</h4>
          <ul>
            <li>Pro Tools, Cubase y Logic convierten al ordenador en estudio completo.</li>
            <li>Plugins permiten mezclar, editar y masterizar sin hardware costoso.</li>
            <li>El MP3 facilita compartir archivos ligeros en internet.</li>
          </ul>
        </div>
      </div>

      <div class="timeline-event side-bottom" style="--pos:96%;" data-progress="0.96">
        <div class="timeline-node" tabindex="0">
          <span class="fecha-superior">2000s</span>
          <span class="timeline-node-dot" aria-hidden="true"></span>
          <span class="fecha-inferior">Presente</span>
        </div>
        <div class="periodo era-contemporary">
          <h4>Home studio, streaming e IA</h4>
          <ul>
            <li>Equipamiento asequible permite estudios caseros y m√≥viles.</li>
            <li>El streaming redefine distribuci√≥n y consumo musical.</li>
            <li>La IA asiste en mezcla, masterizaci√≥n y composici√≥n.</li>
            <li>Se produce m√°s m√∫sica que nunca desde laptops y smartphones.</li>
          </ul>
        </div>
      </div>
          </div>
        </div>

        <p class="timeline-hint">üéöÔ∏è Usa la rueda del rat√≥n o desliza para repasar cada revoluci√≥n tecnol√≥gica.</p>
      </div>
    </section>

    <section class="panel-card map-panel" id="mapa-produccion">
      <div class="panel-inner">
        <div class="map-meta">
          <div class="section-heading">
            <span class="section-kicker">Geograf√≠a</span>
            <h2>Mapa de origen y difusi√≥n</h2>
            <p>Ciudades laboratorio que detonaron nuevas formas de producir sonido.</p>
          </div>
          <ul>
            <li>Imprentas, f√°bricas de instrumentos y sellos pioneros.</li>
            <li>Capitales de la cinta, el sampleo y la s√≠ntesis.</li>
            <li>Hubs digitales y escuelas de mezcla/mastering.</li>
          </ul>
        </div>

        <div id="map" aria-label="Mapa interactivo de producci√≥n musical"></div>
      </div>
    </section>
  </main>

  <footer class="page-footer">
    <p>Mapa interactivo elaborado para el proyecto de historia musical.</p>
  </footer>

    <script>
      (function () {
        function clamp(value, min, max) {
          return Math.min(Math.max(value, min), max);
        }

        function syncTrack(track) {
          var svg = track.querySelector('.timeline-curve');
          if (!svg) return;
          var path = svg.querySelector('path');
          if (!path) return;

          var viewBox = svg.viewBox.baseVal;
          var pathLength = path.getTotalLength();
          var trackRect = track.getBoundingClientRect();
          var svgRect = svg.getBoundingClientRect();
          var offsetX = svgRect.left - trackRect.left;
          var offsetY = svgRect.top - trackRect.top;
          var ratioX = svgRect.width / viewBox.width;
          var ratioY = svgRect.height / viewBox.height;

          track.querySelectorAll('.timeline-event').forEach(function (eventEl) {
            var progressAttr = parseFloat(eventEl.dataset.progress);
            var cssPos = eventEl.style.getPropertyValue('--pos').replace('%', '').trim();
            var fallbackProgress = cssPos ? parseFloat(cssPos) / 100 : 0;
            var progress = clamp(isNaN(progressAttr) ? fallbackProgress : progressAttr, 0, 1);
            var point = path.getPointAtLength(pathLength * progress);

            var relativeX = offsetX + point.x * ratioX;
            var relativeY = offsetY + point.y * ratioY;
            var xPercent = (relativeX / trackRect.width) * 100;
            var yPercent = (relativeY / trackRect.height) * 100;

            eventEl.style.setProperty('--pos', xPercent + '%');
            eventEl.style.setProperty('--node-anchor', yPercent + '%');
          });
        }

        function syncAll() {
          document.querySelectorAll('.timeline-track').forEach(syncTrack);
        }

        function bindWheelScroll() {
          var timelines = document.querySelectorAll('.timeline');
          timelines.forEach(function (timeline) {
            if (timeline.dataset.wheelBound === 'true') return;
            timeline.dataset.wheelBound = 'true';
            timeline.addEventListener(
              'wheel',
              function (evt) {
                if (evt.ctrlKey) return;
                var delta = Math.abs(evt.deltaY) > Math.abs(evt.deltaX) ? evt.deltaY : evt.deltaX;
                if (delta === 0) return;

                var prev = timeline.scrollLeft;
                var maxScroll = timeline.scrollWidth - timeline.clientWidth;
                if (maxScroll <= 0) return;

                var next = Math.min(Math.max(prev + delta, 0), maxScroll);
                timeline.scrollLeft = next;

                if (next !== prev) {
                  evt.preventDefault();
                }
              },
              { passive: false }
            );
          });
        }

        function init() {
          syncAll();
          bindWheelScroll();
        }

        window.addEventListener('resize', syncAll);
        window.addEventListener('load', init);
        init();
      })();
    </script>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    var map = L.map('map').setView([20, 0], 2);

    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
      maxZoom: 18,
      attribution: '¬© OpenStreetMap, ¬© Carto'
    }).addTo(map);

    var puntos = [
      {
        coords: [52.52, 13.4],
        texto: "<b>Berl√≠n, Alemania</b><br>Cuna de la cinta magn√©tica y micr√≥fonos Neumann."
      },
      {
        coords: [42.33, -83.05],
        texto: "<b>Detroit, EE. UU.</b><br>Motown Records y su producci√≥n en cadena." 
      },
      {
        coords: [17.97, -76.79],
        texto: "<b>Kingston, Jamaica</b><br>Dub, delays y el arte del remix." 
      },
      {
        coords: [35.68, 139.69],
        texto: "<b>Tokio, Jap√≥n</b><br>Innovaci√≥n digital de Roland, Korg y Yamaha." 
      },
      {
        coords: [40.71, -74],
        texto: "<b>Nueva York, EE. UU.</b><br>Hip hop, sampling y cultura DJ." 
      }
    ];

    puntos.forEach(function(p) {
      L.marker(p.coords).addTo(map).bindPopup(p.texto);
    });
  </script>
</body>
</html>
